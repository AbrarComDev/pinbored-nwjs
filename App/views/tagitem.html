
<div class="tagbox">
  
  <div class="row">

    <div class="col-xs-6">
      <span class="pull-left label label-success clickabletag" 
      ng-click="selectTag(item)">{{item.tagname}}</span>
    </div>

    <div class="col-xs-6">
      <small class="pull-right info">{{item.occurrences}}</small>
    </div>

  </div>

  <div class="row tag-options">
    <div class="col-xs-12">
        
        <button type="button" data-toggle="button" class="btn btn-inverse btn-xs" ng-click="toggleTagOptions('rename')">
          rename tag
        </button>

        <button type="button" data-toggle="button" class="btn btn-inverse btn-xs" ng-click="toggleTagOptions('fold')">
          fold into tag
        </button>

        <button type="button" data-toggle="button" class="btn btn-inverse btn-xs" ng-click="delete(item)">
          delete tag
        </button>

    </div>
  </div>

  <div class="row tag-options" ng-hide="status.hidden.rename">
    <div class="col-xs-12">
        
        <div class="form-group">
          <input ng-model="item.tagname" class="form-control hiddeninputs input-sm col-xs-4" type="text" stop-event>
        </div>

    </div>
  </div>

  <div class="row tag-options" ng-hide="status.hidden.rename">
    <div class="col-xs-12">
        
        <button type="button" class="btn btn-wide btn-warning btn-xs pull-left" 
        ng-click="revertRenameChanges()" ng-class="{disabled: status.hasNameChanged === false}">
          revert changes
        </button>

        <button type="button" class="btn btn-wide btn-success btn-xs pull-right"
        ng-click="saveRenameChanges(item)" ng-class="{disabled: status.hasNameChanged === false}">
          save changes
        </button>

    </div>
  </div>

  <div class="row tag-options" ng-hide="status.hidden.fold">
    <div class="col-xs-12">
      <tags-input ng-model="status.newFoldTags" placeholder="search for tag" 
      on-tag-added="onTagAdded($tag)" on-tag-removed="onTagRemoved($tag)">
        <auto-complete source="loadTagItems($query)"></auto-complete>
      </tags-input>
    </div>
  </div>

  <div class="row tag-options" ng-hide="status.hidden.fold">
    <div class="col-xs-12">
        
        <button type="button" class="btn btn-wide btn-success btn-xs pull-right"
        ng-click="saveFoldChanges(item)" ng-class="{disabled: status.hasFoldChanged === false}">
          fold into chosen tag
        </button>

    </div>
  </div>

</div>
