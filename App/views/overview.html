<div class="screen" id="overview">

  <!-- screen title -->
  <div class="screentitle clearfix">
    <h6>Overview</h6>

    <div class="col-xs-3">

      <!-- Split button load options -->
      <div class="btn-group pull-left" dropdown>
        <button type="button" ng-disabled="data.isLoading" class="btn btn-sm btn-primary" ng-click="forceReload()">
          load {{data.loadType === "recent" ? appconfig.maxRecentItems + ' ' + data.loadType : data.loadType}} bookmarks</button>
        <button type="button" class="btn btn-sm btn-primary dropdown-toggle" dropdown-toggle>
          <span class="caret"></span>
          <span class="sr-only">Split button!</span>
        </button>
        <ul class="dropdown-menu" role="menu">
          <li ng-repeat="loadType in data.loadTypes">
            <a ng-click="setLoadType(loadType)">load {{loadType}} bookmarks</a>
          </li>
        </ul>
      </div>

    </div>

    <div class="col-xs-3 text-right">
      <label class="share-label">
        <span class="highlight">{{data.filteredList.length}}</span> bookmarks found
      </label>
    </div>

    <div class="col-xs-4 pull-right text-right">
      <div class="btn-group">
        <label class="btn btn-primary btn-sm" ng-model="config.showPager" btn-checkbox>paging</label>
        <label class="btn btn-primary btn-sm" ng-model="config.showTags" btn-checkbox>tag filter</label>
        <label class="btn btn-primary btn-sm" ng-model="config.showSearch" btn-checkbox>text filter</label>
      </div>
    </div>
  </div>

  <div class="bar-wrapper clearfix">

    <!-- toolbar full text search -->
    <div class="bar" id="fulltextsearch" ng-show="config.showSearch">
      <div class="bar-container" ng-show="config.showSearch">
        <nav role="navigation" class="navbar navbar-inverse navbar-embossed">
          
          <div class="col-xs-7">
            <div class="collapse navbar-collapse textselectable">
              <form role="search" class="navbar-form navbar-left">
                <div class="form-group">
                  <input type="text" ng-model="filter.text" placeholder="full-text search" class="form-control input-sm" ng-keydown="updateFiltersPaging()" ng-keyup="updateFiltersPaging()">
                </div>
              </form>
            </div>
          </div>

          <div class="col-xs-2">
            <fui-checkbox ng-model="config.searchAllWords" id="searchAllWords">{{config.searchAllWordsText}}</fui-checkbox>
          </div>

        </nav>
      </div>
    </div>

    <!-- toolbar tag search -->
    <div class="bar clearfix" id="tagsearch" ng-show="config.showTags">
      <div class="bar-container" ng-show="config.showTags">
        <div class="col-xs-7">
          <tags-input ng-model="filter.tags" placeholder="search for tag" 
          on-tag-added="onSearchTagChanged()" on-tag-removed="onSearchTagChanged()">
            <auto-complete source="loadTagItems($query)"></auto-complete>
          </tags-input>
          <!-- ng-keyup="updateFiltersPaging()" ng-click="updateFiltersPaging()" -->
        </div>
        <div class="col-xs-2">
          <fui-checkbox ng-click="updateFiltersPaging()" ng-model="appconfig.tagFilterType" id="tagFilterType">{{config.tagFilterTypeText}}</fui-checkbox>
        </div>
      </div>
    </div>

    <!-- toolbar pagination -->
    <div class="bar" id="pages" ng-show="config.showPager">
      <div class="bar-container" ng-show="config.showPager">
        <pagination total-items="paging.total" items-per-page="appconfig.itemsPerPage" 
        ng-model="paging.current" max-size="paging.numPageButtons" 
        boundary-links="true"></pagination>
        <!-- pagination-sm -->
      </div>
    </div>

    <!-- toolbar multi tag select -->
    <div class="bar clearfix" id="selection" ng-show="data.selectedItems.length > 1">
      <div class="bar-container" ng-show="data.selectedItems.length > 1">
        <nav role="navigation" class="navbar navbar-inverse navbar-embossed">
          
          <div class="col-xs-2">
            <label class="share-label pull-left">with selection: </label>
          </div>

          <div class="col-xs-3">

            <select name="multiAction" class=""
            ng-model="multiAction.selectedAction" ng-change="changeMultiAction()">
              <option value="">select action</option>
              <option value="addTag">add tag</option>
              <option value="foldIntoTag">fold into one tag</option>
              <option value="staleCheck">perform stale check</option>
              <option value="deleteAllTags">delete all tags</option>
              <option value="deleteAllItems">delete</option>
            </select>

          </div>

          <div class="col-xs-4">
            <div class="hider" ng-show="multiAction.show">
              
              <div class="collapse navbar-collapse textselectable">
                <form role="search" class="navbar-form navbar-left">
                  <!-- add tag div -->
                  <div class="form-group" ng-show="multiAction.selectedAction === 'addTag'">
                    <tags-input ng-model="multiAction.newTagNames" placeholder="new tag name" 
                    on-tag-added="onNewTagChanged()" on-tag-removed="onNewTagChanged()">
                      <auto-complete source="loadTagItems($query)"></auto-complete>
                    </tags-input>
                    <!-- <input type="text" ng-model="multiAction.newTagName" placeholder="new tag name" 
                    class="form-control input-sm"> -->
                  </div>
                  <!-- fold into tag div -->
                  <div class="form-group" ng-show="multiAction.selectedAction === 'foldIntoTag'">

                    <tags-input ng-model="multiAction.foldTagNames" placeholder="fold tag name" 
                    on-tag-added="onFoldIntoTagChanged()" on-tag-removed="onFoldIntoTagChanged()">
                      <auto-complete source="loadTagItems($query)"></auto-complete>
                    </tags-input>

                    <!-- <input type="text" ng-model="multiAction.foldTagName" placeholder="fold tag name" 
                    class="form-control input-sm"> -->

                  </div>
                  <!-- submit request button -->
                  <button class="btn btn-default btn-sm" type="submit" 
                  ng-class="{'btn-danger': multiAction.dangerousAction}"
                  ng-click="executeMultiAction()">execute action</button>
                </form>
              </div>

            </div>
          </div>

          <div class="col-xs-3">
            <label class="share-label">
              <span class="highlight">{{data.selectedItems.length}}</span> selected bookmarks
            </label>
          </div>

        </nav>
      </div>
    </div>
  </div>

  <!-- bookmark items list -->
  <div class="section" id="list">

    <div class="list-wrapper" ng-class="{fullheight: data.filteredList.length > 0}">
      <!-- screen list group -->
      <ul class="list-group">
        <li ng-repeat="item in data.filteredList | offset: (paging.current - 1) * appconfig.itemsPerPage | limitTo: appconfig.itemsPerPage"
        class="list-group-item" ng-class="{selected: item.status.selected || item.status.showEdit}" 
        ng-controller="BookmarkItemCtrl" ng-click="selectItem()">
          <div ng-include src="'views/BookmarkItem.html'"></div>
        </li>
      </ul>
    </div>

    <div class="listBackgroundMessage">
      <h5>{{data.bgMsg}}</h5>
    </div>
    
  </div>

</div>